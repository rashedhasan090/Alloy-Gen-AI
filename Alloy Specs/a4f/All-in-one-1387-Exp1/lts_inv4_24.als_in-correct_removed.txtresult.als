There doesn't seem to be any obvious bug in the provided code.