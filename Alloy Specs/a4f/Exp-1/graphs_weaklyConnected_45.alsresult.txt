The bug in the specification is in the "weaklyConnected" predicate. It is partially defined using a comment instead of Alloy code. 

Fixed code:

pred weaklyConnected {
    all n: Node | Node in (n.^adj + n.^~adj)
}

assert weaklyConnectedRepaired {
    weaklyConnected[] iff weaklyConnectedOK[]
}