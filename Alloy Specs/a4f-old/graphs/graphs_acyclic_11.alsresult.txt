There is no bug in this specification. The code is correct.