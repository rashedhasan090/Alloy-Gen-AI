The code provided is correct and there is no bug to fix.